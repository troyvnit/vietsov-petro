@{
    ViewBag.Title = "MeetingAndEvent";
    Layout = "~/Views/Shared/_LayoutFO.cshtml";
    var rooms = (List<VietSovPetro.Model.Entities.Room>)ViewBag.MeetingAndEventRooms;
    var properties = (List<VietSovPetro.Model.Entities.RoomPropertyRooms>)ViewBag.Properties;
}                
@model VietSovPetro.BO.ViewModels.BookViewModel
<script src="~/js/jquery.unobtrusive-ajax.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#submitBooking").click(function () {
            var frm = $('#bookingform');
            $.ajax({
                type: frm.attr('method'),
                url: frm.attr('action'),
                data: frm.serialize(),
                success: function (data) {
                    alert(data);
                    $('#bookingform')[0].reset();
                }
            });
        });
    });
</script>
<div class="banner-G">
    <div class="B-Left-1">
        <div class="tt-B-Left">
            <p>Đặt phòng nhanh</p>
        </div>                   
         <form id="bookingform" action="@Url.Action("QuickBook")" method="post" >
        <!--tt-B-Left-->
        <div class="cc-B-Left-1">
          <ul>
                <li>
                    <p>@Resources.SR.Name</p>
                    <div style="width: 130px; height: auto; float: left; margin-top: 2px;">
                        <input type="text" name="Name" style="border: none; width: 129px; float: left; height: 16px; font-size: 11px;">
                    </div>
                </li>
                <li>
                    <p>@Resources.SR.Email</p>
                    <div style="width: 130px; height: auto; float: left; margin-top: 2px;">
                        <input type="text" name="Email" style="border: none; width: 129px; float: left; height: 16px; font-size: 11px;">
                    </div>
                </li>
                <li>
                    <p>@Resources.SR.Room</p>
                    <select onchange="GotoURL(this)" class="form" name="RoomID" style="float: left; width: 130px; height: 18px; border: none; margin-top: 2px; font-size: 11px;">
                        @foreach (var room in rooms)
                        {
                            <option value="@room.RoomID">@room.RoomName</option>
                        }
                    </select>
                </li>
                <li>
                    <p>@Resources.SR.Start_Date</p>
                    <div style="width: 130px; height: auto; float: left; margin-top: 2px;">
                        <input type="text" id="ngay" name="Begin" style="border: none; width: 108px; float: left; height: 16px; font-size: 11px;">
                    </div>
                </li>
                <li>
                    <p>@Resources.SR.End_Date</p>
                    <div style="width: 130px; height: auto; float: left; margin-top: 2px;">
                        <input type="text" id="ngay1" name="End" style="border: none; width: 108px; float: left; height: 16px; font-size: 11px;">
                    </div>
                </li>
                <li>
                    <p>@Resources.SR.Duration</p>
                    <select onchange="GotoURL(this)" class="form" name="Time" style="float: left; width: 130px; height: 18px; border: none; margin-top: 2px; font-size: 11px;">
                        <option value="Nguyên ngày">@Resources.SR.Full_Day</option>
                        <option value="Nửa ngày">@Resources.SR.Half_Day</option>
                    </select>
                </li>
                <li>
                    <p>@Resources.SR.Number_Of_Guest</p>
                    <select onchange="GotoURL(this)" class="form" name="GuestQuantity" style="float: left; width: 130px; height: 18px; border: none; margin-top: 2px; font-size: 11px;">
                        <option value="500 - 1000">500 - 1000</option>
                        <option value="400 - 500">400 - 500</option>
                        <option value="300 - 400">300 - 400</option>
                        <option value="200 - 300">200 - 300</option>
                        <option value="100 - 200">100 - 200</option>
                        <option value="10 - 100">10 - 100</option>
                    </select>
                </li>
                <li>
                    <p>@Resources.SR.Kind_Of_Meeting</p>
                    <div style="width: 130px; height: auto; float: left; margin-top: 2px;">
                        <input type="text" name="MeetingType" style="border: none; width: 129px; float: left; height: 16px; font-size: 11px;">
                    </div>
                </li>
                <li>
                    <p>@Resources.SR.Price</p>
                    <select onchange="GotoURL(this)" class="form" name="Price" style="float: left; width: 130px; height: 18px; border: none; margin-top: 2px; font-size: 11px;">
                        <option value="Giá trọn gói">@Resources.SR.Package_Price</option>
                        <option value="Giá sự cố">@Resources.SR.Breakdown_Price</option>
                    </select>
                </li>
                <li>
                    <p>@Resources.SR.Message</p>
                    <div style="width: 130px; height: auto; float: left; margin-top: 2px;">
                        <input type="text" name="Message" style="border: none; width: 129px; float: left; height: 16px; font-size: 11px;">
                    </div>
                </li>
            </ul>
            <div class="tt-C-Left">
                <p>@Resources.SR.Credit_Card_For_Booking</p>
            </div>
            <!--tt-C-Left-->
            <ul>
                <li>
                    <p>@Resources.SR.Card_Holder_Name</p>
                    <div style="width: 130px; height: auto; float: left; margin-top: 2px;">
                        <input type="text" name="UserCardName" style="border: none; width: 129px; float: left; height: 16px; font-size: 11px;">
                    </div>
                </li>
                <li>
                    <p>@Resources.SR.Card_Number</p>
                    <div style="width: 130px; height: auto; float: left; margin-top: 2px;">
                        <input type="text" name="UserCardNumber" style="border: none; width: 129px; float: left; height: 16px; font-size: 11px;">
                    </div>
                </li>
                <li>
                    <p>@Resources.SR.Card_Type</p>
                    <div style="width: 130px; height: auto; float: left; margin-top: 2px;">
                        <input type="text" name="UserCardType" style="border: none; width: 129px; float: left; height: 16px; font-size: 11px;">
                    </div>
                </li>
                <li>
                    <p>@Resources.SR.Expiry_Date</p>
                    <div style="width: 130px; height: auto; float: left; margin-top: 2px;">
                        <input type="text" name="DueDate" style="border: none; width: 129px; float: left; height: 16px; font-size: 11px;">
                        <input type="button" id="submitBooking" style="width: 64px; height: 22px; border: none; float: right; background: url(@Url.Content("~/images/icon-5.png")) no-repeat; margin-right: 1px; margin-top: 6px;" ></input>
                    </div>
                </li>
            </ul>
        </div>
        <!--cc-B-Left-1-->    

        </form>
    </div>
    <!--B-Left-1-->
    <div class="B-Right-1">
        <iframe src="@Url.Content("~/images/virtualTour/conferenceHall/ConferenceHall.html")" style="width:100%; height:100%; display:block; padding:0; border:none;"></iframe>
        <div class="fullscreen">
            <a href="#" style="display: block;">
                <img src="@Url.Content("~/images/fullsceen.png")" alt="" /></a>
        </div>
    </div>
    <!--B-Right-1-->
</div>
<!--banner-G-->
<div class="in-Hotel">
    @foreach (var room in rooms)
    {   
        <div class="boxHotel">
            <div class="tt-boxHotel"><a href="#">@room.RoomName (Số lượng: @room.Quantity)</a></div>
            <!--tt-boxHotel-->
            <div class="cc-boxHotel">
                <div class="picHotel">
                    <a href="#">
                        @{ var fileInfo = new FileInfo(room.ImageUrl == "" ? ".jpg" : room.ImageUrl);
                           if (fileInfo.Extension == ".html")
                           {
                            <iframe src="@Url.Content("~/Images/" + room.ImageUrl)"  style="width:400px; height:199px; display:block; border:none;"></iframe>
                           }
                           else
                           {
                            <img src="@Url.Content("~/Images/" + room.ImageUrl)" alt="" style="width:400px; height:199px; display:block; border:none;"/>
                           }
                        }
                    </a>
                </div>
                <!--picHotel-->
                <div class="conHotel-1">
                    <ul>
                        @foreach (var detail in properties.Where(r => r.RoomProperty.RoomPropertyType == "Detail" && r.IsDeleted != true && r.IsPublished && r.RoomID == room.RoomID))
                        {
                            <li>
                                <p>@detail.RoomProperty.RoomPropertyName: @detail.RoomPropertyNumberValue @detail.RoomProperty.Unit</p>
                            </li>
                        }
                    </ul>
                </div>
                <!--conHotel-1-->
                <div class="conHotel-2">
                    <ul>
                        @foreach (var price in properties.Where(r => r.RoomProperty.RoomPropertyType == "Price" && r.IsDeleted != true && r.IsPublished && r.RoomID == room.RoomID))
                        {
                            <li>
                                <p>@price.RoomProperty.RoomPropertyName: @price.RoomPropertyNumberValue @price.RoomProperty.Unit</p>
                            </li>
                        }
                        @foreach (var property in properties.Where(r => r.RoomProperty.RoomPropertyType == "Property" && r.IsDeleted != true && r.IsPublished && r.RoomID == room.RoomID))
                        {
                            <li>
                                <p>@property.RoomProperty.RoomPropertyName: @property.RoomPropertyStringValue @property.RoomProperty.Unit</p>
                            </li>
                        }
                    </ul>
                </div>
                <!--conHotel-2-->
            </div>
            <!--cc-boxHotel-->
        </div>
    }
</div>
<!--in-Hotel-->
